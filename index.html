<!doctype html>
<html lang="zh">
    <head>
        <meta charSet="utf-8"/>
        <title>开放平台大全</title>
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/>
        <meta name="renderer" content="webkit"/>
        <meta name="force-rendering" content="webkit"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <meta name="keywords" content="开放平台大全,开放平台导航"/>
        <meta name="description" content="开放平台网址导航,探寻未知的机遇"/>
        <link rel="shortcut icon" type="image/x-icon" href="f.ico"/>
        <link rel="search" type="application/opensearchdescription+xml" href="search.xml" title="aiove"/>
        <link rel="stylesheet" type="text/css" href="normalize.css"/>
        <link rel="stylesheet" type="text/css" href="main.css"/>
    </head>
    <body>
        <div class="main">
            <div></div>
            <ul id="n">
                
            </ul>
        </div>
        <div class="bottom">
            <a href="http://www.beian.miit.gov.cn">京ICP备13005483号-4 </a>
        </div>
        <script>
		window.onload = function () {
            // var url = "http://www.aiove.com/open.json"/*json文件url，本地的就写本地的位置，如果是服务器的就写服务器的路径*/
            var url = "open.json"
            var request = new XMLHttpRequest();
            request.open("get", url);/*设置请求方法与路径*/
            request.send(null);/*不发送数据到服务器*/
            request.onload = function () {/*XHR对象获取到返回信息后执行*/
                if (request.status == 200) {/*返回状态为200，即为数据获取成功*/
                    var json = JSON.parse(request.responseText);
                    for(var i=0;i<json.length;i++){

                        var li = document.createElement('li');
                        // 添加class
                        //li.className = 'dialog';
                        //li.style.paddingRight = '10px';
                        var a1 = document.createElement('a');
                        a1.href=json[i].url
                        a1.target="_blank"
                        var a2 = document.createElement('a');
                        if(json[i].logo && json[i].logo!=''){
                            var img = document.createElement('img');
                            img.src = 'logos/'+json[i].logo;
                            a1.appendChild(img);
                        }else{
                            var imgDiv = document.createElement('div');
                            imgDiv.className = 'img-div';
                            imgDiv.style.backgroundColor = getRandomColor();
                            a1.appendChild(imgDiv);
                        }
                        
                        a2.href=json[i].url
                        a2.target="_blank"
                        var content = document.createElement('span');                        
                        content.innerHTML = json[i].name;

                        a2.appendChild(content);
                        li.appendChild(a1);
                        li.appendChild(a2);
                        document.getElementById("n").appendChild(li);
                    }
                }
            }
       }

        function getRandom(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        function getRandomColor() {
            var c1 = getRandom(0, 255);
            var c2 = getRandom(0, 255);
            var c3 = getRandom(0, 255);
            return 'rgb(' + c1 + ',' + c2 + ',' + c3 + ')'
        }
	</script>
    </body>
</html>